(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(61)},44:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){},53:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(26),i=n.n(r),l=(n(44),n(5)),s=n(4),c=n(7),u=n(6),d=n(8),m=(n(45),n(16)),p=n(13),h=n(18),g=(n(50),function(e){return o.a.createElement(o.a.Fragment,null,"Home")}),v=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("Home Did Mount")}},{key:"componentWillUnmount",value:function(){console.log("Home Will unMount")}},{key:"render",value:function(){return o.a.createElement(g,null)}}]),t}(a.Component),b=n(36),f=n(29),E=(n(53),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={viewport:{latitude:19,longitude:-100,zoom:6},accessToken:"pk.eyJ1IjoicmFsZXhyZHoiLCJhIjoiY2lmdHB2aGo2MTZ4MnQ1bHkzeDJyaDMzNyJ9.UHhEm9gA1_uwAztXjb7iTQ",popup:null},n.onViewportChange=function(e){e.width,e.height;var t=Object(b.a)(e,["width","height"]);n.setState({viewport:t})},n.showPop=function(e){e?(console.log("obs popup",e),n.setState({popup:e})):n.setState({popup:null})},n.goToObservationDetails=function(e){console.log("goToObservationDetails",e),n.setState({redirect:n.state.popup.id})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(this.state.redirect)return o.a.createElement(h.a,{to:"/observation/".concat(this.state.popup.id)});var t=this.state.viewport,n=this.props.observations.map(function(t){return o.a.createElement(f.a,{latitude:parseFloat(t.lat),longitude:parseFloat(t.lng),offsetLeft:-20,offsetTop:-10,key:t.id},o.a.createElement("div",{className:"marker",onClick:function(){return e.showPop(t)}}))}),a=null;if(this.state.popup){console.log("state pop",this.state.popup);var r=this.state.popup;r.contents.find();a=o.a.createElement(f.b,{latitude:parseFloat(r.lat),longitude:parseFloat(r.lng),offsetLeft:-20,offsetTop:-10},o.a.createElement("div",{onClick:function(){return e.goToObservationDetails(r)}},o.a.createElement("div",{class:"popupThumb"},o.a.createElement("img",{src:r.contents.find(),alt:""})),o.a.createElement("div",{class:"popupTitle"},r.title)))}return o.a.createElement("div",{id:"map-container"},o.a.createElement(f.c,Object.assign({height:"100%",width:"100%",mapStyle:"mapbox://styles/mapbox/outdoors-v9"},t,{mapboxApiAccessToken:this.state.accessToken,onViewportChange:function(t){return e.onViewportChange(t)}}),n,a))}}]),t}(a.Component)),C=Object(m.b)(function(e){return{user:e.user,observations:e.observations}})(E),O=n(22),y=n(3),A=n(17),j=(n(59),function(e){var t=Object(O.a)({},e),n=(t.title,t.lat,t.lng,t.date,t.hour,t.observationContents),a=t.onAddObservation,r=t.onFieldChange,i=t.onContentChange,l=t.onSetDateNow,s=t.onSetMyLocation,c=t.onAddSubtitle,u=t.onAddTextArea,d=t.onAddImage,m=t.onAddVideo,p=n.map(function(e){var t;switch(e.type){case"paragraph":t=o.a.createElement("div",{key:e.id},o.a.createElement("textarea",{id:e.id,value:e.text,onChange:i}));break;case"subtitle":t=o.a.createElement("div",{key:e.id},o.a.createElement("input",{id:e.id,className:"subtitle",value:e.text,onChange:i}));break;case"image":console.log("imageUrl",e),t=o.a.createElement("div",{key:e.id},o.a.createElement("img",{src:e.url,alt:""}));break;case"video":console.log(e),t=o.a.createElement("div",{key:e.id},o.a.createElement("iframe",{title:"video",width:"560",height:"315",src:e.url,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))}return t});return o.a.createElement("section",{className:"AddObservation"},o.a.createElement("header",null,o.a.createElement("div",{id:"observationInfo"},o.a.createElement("div",null,"Titulo: ",o.a.createElement("input",{name:"title",type:"text",onChange:r})),o.a.createElement("div",null,"Fecha: ",o.a.createElement("input",{name:"date",type:"date",onChange:r,lang:"es"}),"Hora: ",o.a.createElement("input",{className:"small",name:"hour",type:"number",onChange:r}),"Minuto: ",o.a.createElement("input",{className:"small",name:"min",type:"number",onChange:r}),o.a.createElement("button",{onClick:l},"Hoy")),o.a.createElement("div",null,"Ubicaci\xf3n: lat: ",o.a.createElement("input",{className:"small",name:"lat",type:"text",onChange:r}),"lng: ",o.a.createElement("input",{className:"small",name:"lng",type:"text",onChange:r}),o.a.createElement("button",{onClick:s},"Mi ubicaci\xf3n actual"),o.a.createElement("button",{onClick:s},"Ubicar en mapa")),o.a.createElement("div",null,"Palabras clave (divide usando comas): ",o.a.createElement("input",{name:"tags",type:"text",onChange:r}))),o.a.createElement("div",{id:"observationAdd"},o.a.createElement("button",null,"-"),o.a.createElement("button",{onClick:a},"Registrar Observaci\xf3n"))),o.a.createElement("div",{id:"observationContent"},o.a.createElement("header",null,o.a.createElement("div",null,o.a.createElement("button",{onClick:c},"Agrega Subtitulo")),o.a.createElement("div",null,o.a.createElement("button",{onClick:u},"Agrega Parrafo")),o.a.createElement("div",null,o.a.createElement("input",{type:"text",name:"imageUrl",placeholder:"url",onChange:r}),o.a.createElement("input",{type:"file",name:"imageFile",onChange:r}),o.a.createElement("button",{onClick:d},"Agrega imagen")),o.a.createElement("div",null,o.a.createElement("input",{type:"text",name:"videoUrl",onChange:r}),o.a.createElement("button",{onClick:m},"Agrega video"))),o.a.createElement("div",{id:"contents"},p)))}),w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={title:"",lat:0,lng:0,date:null,hour:0,tags:[],imageUrl:"",videoUrl:"",imageFile:"",observationContents:[]},n.handleSetDateNow=function(){console.log("setDateNow")},n.handleSetMyLocation=function(){console.log("setMyLocation")},n.handleAddSubtitle=function(){console.log("addSubtitle");var e={type:"subtitle",text:"",id:n.state.observationContents.length};n.setState({observationContents:[].concat(Object(A.a)(n.state.observationContents),[e])})},n.handleAddTextArea=function(){var e={type:"paragraph",text:"",id:n.state.observationContents.length};n.setState({observationContents:[].concat(Object(A.a)(n.state.observationContents),[e])})},n.handleAddImage=function(){console.log("addImage");var e={type:"image",url:n.state.imageUrl,id:n.state.observationContents.length};n.setState({observationContents:[].concat(Object(A.a)(n.state.observationContents),[e])})},n.handleAddVideo=function(){console.log("addVideo"),console.log(n.state.videoUrl);var e={type:"video",url:n.state.videoUrl,id:n.state.observationContents.length};n.setState({observationContents:[].concat(Object(A.a)(n.state.observationContents),[e])})},n.handleContentChange=function(e){console.log("handleContentChange",e.target.id);var t=n.state.observationContents;t.find(function(t){return t.id==e.target.id}).text=e.target.value,n.setState({observationContents:Object(A.a)(t)})},n.handleContentDelete=function(e){console.log("handleContentChange",e)},n.handleContentChangePosition=function(e){console.log("handleContentChange",e)},n.handleFieldChange=function(e){if("videoUrl"===e.target.name){if(e.target.value.split("v=")[1]){var t=e.target.value.split("v=")[1].split("&")[0];n.setState({videoUrl:"https://www.youtube.com/embed/".concat(t)})}}else n.setState(Object(y.a)({},e.target.name,e.target.value))},n.handleAddObservation=function(){console.log("addObservation"),n.props.dispatch({type:"ADD_OBSERVATION",title:n.state.title,lat:n.state.lat,lng:n.state.lng,date:n.state.date,hour:n.state.hour,tags:n.state.tags,imageUrl:n.state.imageUrl,videoUrl:n.state.videoUrl,imageFile:n.state.imageFile,observationContents:n.state.observationContents}),n.setState({redirect:!0})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("AddObservation Did Mount")}},{key:"componentWillUnmount",value:function(){console.log("AddObservation Will unMount")}},{key:"render",value:function(){var e=Object(O.a)({},this.state,{onFieldChange:this.handleFieldChange,onContentChange:this.handleContentChange,onSetDateNow:this.handleSetDateNow,onSetMyLocation:this.handleSetMyLocation,onAddSubtitle:this.handleAddSubtitle,onAddTextArea:this.handleAddTextArea,onAddImage:this.handleAddImage,onAddVideo:this.handleAddVideo,onAddObservation:this.handleAddObservation});return o.a.createElement(j,e)}}]),t}(a.Component),k=Object(m.b)(function(e){return{user:e.user}})(w),S=(n(60),function(e){var t=Object(O.a)({},e),n=t.onNameChange,a=t.name,r=t.addPerson;return o.a.createElement("div",{className:"Register"},o.a.createElement("input",{type:"text",onChange:n,value:a}),o.a.createElement("button",{onClick:r},"Registrsar"))}),D=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",newId:null,redirect:!1},n.handleNameChange=function(e){n.setState({name:e.target.value})},n.addPerson=function(){n.props.dispatch({type:"ADD_PERSON",userId:n.state.newId,name:n.state.name}),n.setState({redirect:!0})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("Register Did Mount")}},{key:"componentWillUnmount",value:function(){console.log("Register Will unMount")}},{key:"render",value:function(){if(this.state.redirect)return o.a.createElement(h.a,{to:"/"});var e={name:this.state.name,onNameChange:this.handleNameChange,addPerson:this.addPerson};return o.a.createElement(S,e)}}]),t}(a.Component),N=Object(m.b)()(D),U=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log("user",this.props.user),console.log("observations",this.props.observations),o.a.createElement(p.b,{basename:"/"},o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement(p.c,{to:"/"}," Home "),o.a.createElement(p.c,{to:"/map"}," Map "),this.props.user?o.a.createElement(p.c,{to:"/profile"}," Perfil de ",this.props.user.name," "):o.a.createElement(p.c,{to:"/register"}," Registro "),o.a.createElement(p.c,{to:"/add-observation"}," Nueva observaci\xf3n ")),o.a.createElement("section",{className:"Container"},o.a.createElement(h.d,null,o.a.createElement(h.b,{exact:!0,path:"/",component:v}),o.a.createElement(h.b,{exact:!0,path:"/map",component:C}),o.a.createElement(h.b,{exact:!0,path:"/register",component:N}),o.a.createElement(h.b,{exact:!0,path:"/add-observation",component:k})))))}}]),t}(a.Component),x=Object(m.b)(function(e){return{user:e.user,observations:e.observations}})(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(21);var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("state people",e),t.type){case"ADD_PERSON":console.log("ADD_PERSON",t);var n={userId:t.id,name:t.name};return[].concat(Object(A.a)(e),[n]);default:return e}},F=[{title:"Hola asdasd asdjkhasd qweq we kjahsd",lat:19,lng:-99,id:123,contents:[{type:"image",imageUrl:"http://1.bp.blogspot.com/-kesHIYYUBqk/TnhfgS_3ofI/AAAAAAAAFso/AdSpsDicrXg/s1600/FoolMoon.jpg"}]}];var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state observations",e),t.type){case"ADD_OBSERVATION":var n={title:t.title,lat:t.lat,lng:t.lng,date:t.date,hour:t.hour,tags:t.tags,imageUrl:t.imageUrl,videoUrl:t.videoUrl,imageFile:t.imageFile,observationContents:t.observationContents};return[].concat(Object(A.a)(e),[n]);case"REMOVE_OBSERVATION":return e.filter(function(e){return e.observationId!=t.id});default:return e}};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state usere",e),t.type){case"ADD_PERSON":return{userId:t.id,name:t.name};default:return e}},R=Object(M.b)({people:T,observations:I,user:P});i.a.render(o.a.createElement(m.a,{store:Object(M.c)(R)},o.a.createElement(p.a,{baseUrl:"/hw-react-redux"},o.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.7dc0cce8.chunk.js.map